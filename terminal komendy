create table przetwory (
id_przetworu int primary key,
rok_produkcji int(4) unsigned,
id_wykonawcy int, zawartość varchar(255),
dodatek varchar(255) default 'papryczka chilli',
id_konsumenta int,
foreign key (id_wykonawcy) references postac1(id_postaci),
foreign key (id_konsumenta) references postac1(id_postaci));


insert into przetwory values(default, 2022,1,'bigos',default,3);



insert into postac1 (nazwa,rodzaj)
values 
('wiking1','wiking'),
('wiking2','wiking'),
('wiking3','wiking'),
('wiking4','wiking'),
('wiking5','wiking');


select * from postac1 wiking2;


create table statek (
nazwa_statku varchar(40) primary key,
rodzaj_statku enum('transportowy','rybacki'),
data_wodowania date,
max_ladownosc int unsigned);


insert into statek (nazwa_statku)
values
('statek1'),
('statek2');

select * from statek statek2;


alter table postac1 add funkcja varchar(40);

update postac1 
set funkcja = 'kapitan'
where id_postaci = 1;


alter table postac1
add column statek;



_______________________________________________________________________________________________________________________________________________________________________

LAB 4

select * from postac1
where nazwa != 'Bjorn'
and rodzaj='wiking'
limit 2;
delete from postac1 where id_postaci=...(id ktore pasuje)

1b
alter table postac drop primary key;
#problem 1 - istniejące klucze obce w tej kolumnie
#tabela przetwory, walizka, ewntualnie izba
#usuwamoe lklczy obcych
alter table przetwory drop foreign key przetwory_ibfk_1;
#zeby go znalesc wpisac show create table i poszukac nazwy klucza obcego
#problem 2 atrubut auto_increment trzeba go usunac
alter table postac1 modify id_postaci int;
# drop primary key powinien zadziałac
alter table postac1 drop primary key;



zadanie 2


alter table postac add pesel char(11) first;
alter table postac add primary key(pesel);
update postac1 set pesel='12345645789'+ is_postaci;
alter table postac add primary key(pesel);

2b
alter table postac1 modify rodzaj enum('wiking','ptak','kobieta','syrena');
2c
UPDATE `debinskit`.`postac1` SET `id_postaci` = '8', `nazwa` = 'gertruda nieszczera' `rodzaj` = 'syrena' WHERE (`id_postaci` = '8');

3a
update postac1 set statek='nazwa statku ktora wybralismy' where nazwa LIKE '%a%';

select nazwa from postac where nazwa regexp '[a]';

3b
update statek set max_ladownosc=max_ladownosc*0.7 where data_wodowania >='1900-01-01' and data_wodowania <='2000-12-31'

select year(data_wodowania from postac;








